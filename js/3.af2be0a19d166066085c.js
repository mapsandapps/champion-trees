webpackJsonp([3],{"K/GD":function(t,e,o){(t.exports=o("FZ+f")(!1)).push([t.i,"\n.arrow-container[data-v-4a55fd95] {\n  margin: 0 auto;\n  width: 200px;\n}\n.tree-info[data-v-4a55fd95] {\n  text-align: center;\n}\n",""])},"LOE/":function(t,e,o){var r=o("K/GD");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,o("rjj0").default)("3ec41f50",r,!1,{})},dAKm:function(t,e,o){var r=o("vxJQ")("round");t.exports=r},qMFH:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o("Dd8w"),n=o.n(r),i=o("dAKm"),a=o.n(i),s=o("7109"),c=o("NYxO"),l={name:"Navigate",data:function(){return{compassDirection:null,compassError:null,geolocationWatcherID:null,primaryColor:s.y.getBrand("primary"),tree:null}},computed:n()({},Object(c.c)(["bearingFromUser","getTree"]),{arrowDirection:function(){if(this.treeBearing&&this.compassDirection){var t=this.treeBearing-this.compassDirection;return t<0?t+360:t>=360?t-360:t}return null},treeBearing:function(){return a()(this.bearingFromUser(this.tree))}}),methods:n()({},Object(c.d)(["setCoordinates"]),{handleEventData:function(t){this.compassDirection=t.alpha,t.webkitCompassHeading?(this.compassDirection=t.webkitCompassHeading,this.compassError=null):this.compassError="Compass not supported in this browser"},handleGeolocationData:function(t){this.setCoordinates(t.coords)},handleGeolocationError:function(t){this.$q.notify({message:"Geolocation failed",icon:"location_off"})},viewTreeInGoogleMaps:function(){Object(s.A)("https://www.google.com/maps/search/"+this.tree.Latitude+",+"+this.tree.Longitude+"/")}}),mounted:function(){this.tree=this.getTree(this.$route.params.id),window.DeviceOrientationEvent?(this.compassError="Compass is supported by this browser, but no reading has occurred",window.addEventListener("deviceorientation",this.handleEventData)):this.compassError="Compass not supported in this browser",this.geolocationWatcherID=navigator.geolocation.watchPosition(this.handleGeolocationData,this.handleGeolocationError)},beforeDestroy:function(){window.removeEventListener("deviceorientation",this.handleEventData),navigator.geolocation.clearWatch(this.geolocationWatcherID)}},d=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.tree?o("div",[t.compassError?o("q-alert",{staticClass:"q-ma-md",attrs:{color:"warning",icon:"warning"}},[t._v("\n    "+t._s(t.compassError)+"\n  ")]):t._e(),t._v(" "),o("div",{staticClass:"tree-info q-py-md"},[o("h2",[t._v("\n      "+t._s(t.tree.LOCATION)+"\n    ")]),t._v(" "),o("h3",[t._v(t._s(t.tree["COMMON NAME"]))]),t._v(" "),o("h4",{style:{color:t.primaryColor}},[t._v("\n      "+t._s(t._f("distanceHuman")(t.tree.distance))+"\n    ")])]),t._v(" "),o("div",[t.arrowDirection?o("div",{staticClass:"arrow-container"},[o("q-icon",{style:{transform:"rotate("+t.arrowDirection+"deg)"},attrs:{color:"primary",name:"arrow_upward",size:"200px"}})],1):t._e()]),t._v(" "),o("div",{staticClass:"q-pa-md"},[o("div",[t._v("Direction to tree: "+t._s(t.treeBearing||"unknown")+"ยบ")]),t._v(" "),o("div",[t._v("You're facing: "+t._s(t.compassDirection||"unknown")+"ยบ")]),t._v(" "),o("q-btn",{staticClass:"q-my-md",attrs:{label:"View in Google Maps",color:"secondary"},nativeOn:{click:function(e){t.viewTreeInGoogleMaps(t.tree)}}})],1)],1):t._e()},p=[];d._withStripped=!0;var h=o("XyMi"),u=!1;var v=function(t){u||o("LOE/")},m=Object(h.a)(l,d,p,!1,v,"data-v-4a55fd95",null);m.options.__file="src/pages/Navigate.vue";e.default=m.exports}});